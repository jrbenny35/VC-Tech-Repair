div.wideContainer(ng-controller="RepairFormCtrl")
  md-card(layout-padding)
    md-card-content
      div
        div.img-div( layout='column' layout-align='center center')
          md-content()
            h1(style='text-align: center;' flex) Add a Repair
            h4(flex style='text-align: center; padding-top: 10px;') Please fill out the Valencia Tech Club Computer Repair service form below.      
        hr    
        div.container(layout-padding)
          form#repair( name='repairForm' role="form" ng-submit="saveRepairForm()")
            md-content
              div(layout-gt-lg='row' layout-margin layout-padding)
                div(flex-gt-lg='50' layout='column')
                  md-input-container(style='width: 100%')
                    label First and Last Name
                    input( type='text' ng-maxlength='30' ng-minlength='3' md-maxlength='30' name='name' ng-model='repair.name' required)
                    div(ng-messages='repairForm.name.$error' ng-show='repairForm.name.$touched')
                      span(ng-message='required') First and Last name is required
                      span(ng-message='maxlength') Name must be less than 30 characters long
                      span(ng-message='minlength') Name must be at least 3 characters long
                  md-input-container(style='width: 100%')
                    label Email
                    input( minlength='10' maxlength='25' name='email' ng-model='repair.email' ng-pattern='/^.+@.+\..+$/' required)
                    div(ng-messages='repairForm.email.$error' role='alert' ng-show='repairForm.email.$touched')
                      span(ng-message='required') An email address is required
                      span(ng-message-exp="['minlength', 'maxlength', 'pattern']") Invalid email
                  md-input-container(style='width: 100%')
                    label Phone Number ( With Dashes )
                    input( type='tel' ng-minlength='12' ng-maxlength='20' name='phoneNumber' ng-model='repair.phoneNumber' required)
                    div(ng-messages='repairForm.phoneNumber.$error' role='alert' ng-show='repairForm.phoneNumber.$touched')
                      span(ng-message='required') A phone number is required
                      span(ng-message='maxlength') Phone number is too long
                      span(ng-message='minlength') Phone number must include dashes
                  md-input-container
                    label Valenca ID Number
                    input(type='text' name='vID' ng-maxlength='10' ng-model='repair.vID')
                    div(ng-messages='repairForm.vID.$error' role='alert' ng-show='repairForm.vID.$touched')
                      span(ng-message='maxlength') Valencia ID is limited to 40 characters      
                  md-input-container(style='width: 100%')
                    label Service Provided
                    textarea( type='tel' ng-minlength='6' ng-maxlength='50' name='service' ng-model='repair.service' required columns='1', rows='5')
                    div(ng-messages='repairForm.service.$error' role='alert' ng-show='repairForm.service.$touched')
                      span(ng-message='required') Service Provided is required.
                      span(ng-message='maxlength') Service Provided has too many characters.
                      span(ng-message='minlength') Service Provided must be atleast 6 characters long.
                  md-input-container(style='width: 100%')
                    label Service Details
                    textarea( type='tel' ng-minlength='12' ng-maxlength='20' name='details' ng-model='repair.details' required columns='1', rows='10')
                    div(ng-messages='repairForm.details.$error' role='alert' ng-show='repairForm.details.$touched')
                      span(ng-message='required') Service Details are required.
                      span(ng-message='maxlength') Service details are too long.
                      span(ng-message='minlength') Service Detais must be atleast 6 characters long.                      
                
                div(flex layout='column')
                  div(layout='row' layout-padding).layout-row   
                    md-input-container()
                      label Issued By
                      input(type='text' name='issuedBy' ng-maxlength='25' ng-model='repair.issuedBy')
                      div(ng-messages='repairForm.issuedBy.$error' role='alert' ng-show='repairForm.issuedBy.$touched')
                        span(ng-message='maxlength') Agent name must be no more than 25 characters long   
                    md-input-container()
                      label Repair number
                      input(type='text' name='number' ng-maxlength='5' ng-minlength='5' ng-model='repair.number')
                      div(ng-messages='repairForm.number.$error' ng-show='repairForm.number.$touched')
                        span(ng-message='maxlength') Repair number must be no longer than 5 numbers.
                        span(ng-message='minlength') Repair number must be at least 5 numbers long.
                  div()
                    md-input-container(style='width: 100%')
                      label Comments
                      textarea(type='text' ng-maxlength='300' md-maxlength='300' name='message' ng-model='repair.message' columns='1', rows='5')
                      div(ng-messages='repairForm.message.$error' ng-show='repairForm.message.$touched')
                        span(ng-message='maxlength') Message is limited to 300 characters
                  md-content(layout-padding)
                    h4 Date Of Repair
                    md-datepicker(ng-model='repair.date' md-placeholder='Enter Date')
                    br
                    md-button.md-raised.md-accent#submitBtn( ui-sref='repair-thanks' type = "submit" ng-disabled='repairForm.$invalid') Submit
                    md-button.md-button.md-primary.md-raised(ui-sref='admin') Return to Admin 
